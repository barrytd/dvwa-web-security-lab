# Basic Pentesting 1 – WordPress Compromise & Local Privilege Escalation

## Overview

This lab demonstrates full system compromise of a vulnerable Ubuntu host through web application exploitation and local privilege escalation.

Target: 192.168.56.104  
Hostname: vtcsec  
Environment: Local VirtualBox Lab (Host-Only Network)

Attack chain:

Web Enumeration → WordPress Compromise → Shell Access (www-data) → SUID Enumeration → pkexec Privilege Escalation → Root

---

## 1. Service Enumeration

Initial reconnaissance identified exposed services:

- FTP (ProFTPD 1.3.3c)
- SSH (OpenSSH 7.2p2)
- HTTP (Apache 2.4.18)

![Service Enumeration](01_service_enumeration.png)

---

## 2. Directory Enumeration

Directory brute forcing revealed a hidden `/secret` directory.

![Directory Enumeration](02_directory_enumeration_secret.png)

---

## 3. WordPress Identification

WordPress 4.9 was identified via page source.

![WordPress Version Identified](03_wordpress_identified.png)

---

## 4. User Enumeration

WPScan identified a valid WordPress user:

- admin

![User Enumeration](04_wpscan_user_enumeration.png)

---

## 5. Local DNS Resolution Fix

The application required proper hostname resolution.  
The target was mapped in `/etc/hosts`.

![Hosts File Update](05_hosts_file_fix.png)

---

## 6. WordPress Admin Access

Authenticated using weak credentials.

![WordPress Admin Login](06_wordpress_admin_login.png)

---

## 7. Initial Shell Access

A reverse shell was obtained through WordPress administrative access.

User context confirmed:

- www-data

![Initial Shell Access](08_initial_shell_access.png)

---

## 8. Local Enumeration

System user enumeration revealed additional local users.

![Local User Enumeration](09_local_user_enumeration.png)

---

## 9. SUID Enumeration

SUID binaries were enumerated.  
`pkexec` was identified as a potential escalation vector.

![SUID Enumeration](10_suid_enumeration.png)

---

## 10. WordPress Configuration Review

Database credentials were discovered within `wp-config.php`.

![WP Config Credentials](11_wp_config_credentials.png)

Attempted direct MySQL login using extracted credentials.

![MySQL Root Access Denied](12_mysql_root_login_denie.png)

---

## 11. pkexec Analysis

SUID permissions confirmed:

![pkexec SUID Identified](13_pkexec_suid_identified.png)

Version confirmed:

![pkexec Version](14_pkexec_version.png)

---

## 12. Exploit Preparation

Exploit files were transferred to `/tmp`.

![Exploit Files Transferred](15_exploit_files_transferred.png)

Compiler availability confirmed.

![Compiler Present](16_compiler_present.png)

---

## 13. Privilege Escalation

Privilege escalation successful.

Root access verified:

![Root Proof](20_root_proof.png)

Additional validation:

![Root Validation](21_root_validation.png)

---

## Findings Summary

| Phase | Technique | Result |
|-------|----------|--------|
| Web Recon | Directory Brute Force | Hidden WordPress Instance |
| Application Layer | Weak Credentials | Admin Access |
| OS Pivot | Reverse Shell | www-data Access |
| Local Enumeration | SUID Discovery | pkexec Identified |
| Privilege Escalation | pkexec Exploit | Root Access |

---

## Skills Demonstrated

- Service enumeration (nmap)
- Directory brute forcing (gobuster)
- WordPress enumeration (WPScan)
- Weak credential exploitation
- Reverse shell handling
- Local user enumeration
- SUID privilege escalation analysis
- Version validation
- Root compromise confirmation

---

## Conclusion

The target system was fully compromised through a structured attack path beginning with web enumeration and concluding with local privilege escalation to root.

This lab demonstrates disciplined methodology:

Enumeration → Exploitation → Pivot → Local Enumeration → Privilege Escalation → Impact Validation